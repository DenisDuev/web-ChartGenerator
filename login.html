<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Chart generator</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="javascript/menu.js"></script>
    <script src="javascript/submit.js"></script>
    <script src="javascript/utils.js"></script>
    <script src="javascript/authenticate.js"></script>
</head>
<body>
<div class="header">
    <h1>Chart generator</h1>
</div>

<div id="navbar">
    <a href="index.html">Home</a>
    <a href="generatedDiagrams.html">My diagrams</a>
    <a href="#mockitoAndWeb">Lorem</a>
    <a href="#intoREST">Lorem</a>
    <ul>
        <li id="user"><a href="login.html"><img src="image/user_icon.png" alt="user" height="26" width="26"></a></li>
    </ul>
</div>
<div id="container">
    <div style="float: left; width: 25%; height: 80%;"><span style="color: white">.</span></div>
    <div class="block" style="overflow: hidden">
        <div class="header">
            <span>LOGIN</span>
        </div>
        <div class="center" style="border: none;">
            <input type="text" placeholder="username" id="username" name="username"/><br>
            <input type="password" placeholder="password" id="password" name="password"/><br>
            <input type="submit" value="LOGIN" onclick="logIn()"/>
            <a id="reg" href="registration.html">Create your account!</a>
        </div>
    </div>
</div>
</body>
<script>
    function logIn() {
        var user = document.getElementById("username");
        var pass = document.getElementById("password");
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                var location = window.location.href;
                window.location.href = location.replace("/login", "/index")
            }
        };
        xhttp.open("POST", "/javascript/authenticate", true);
        xhttp.send([user, pass]);
    }
</script>
</html>